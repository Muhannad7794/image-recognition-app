{
  "version": 1,
  "type": "dsp",
  "info": {
    "title": "Custom Image Preprocessor (OpenCV)",
    "author": "Your Name",
    "description": "Resizes to target WxH, converts channels to match model (1 or 3), and scales pixels to [0,1] using OpenCV.",
    "name": "OpenCV Preprocessor",
    "cppType": "opencv_image_preprocessor",
    "preferConvolution": true,
    "latestImplementationVersion": 1,
    "port": 4446
  },
  "dsp": {
    "image": {
      "input": [
        "width",
        "height",
        "channels"
      ],
      "output": [
        "features"
      ]
    }
  },
  "parameters": [
    {
      "group": "Image size",
      "items": [
        {
          "name": "Target image width",
          "value": 96,
          "type": "int",
          "help": "Width (pixels) of the output image/features.",
          "param": "img-width"
        },
        {
          "name": "Target image height",
          "value": 96,
          "type": "int",
          "help": "Height (pixels) of the output image/features.",
          "param": "img-height"
        }
      ]
    },
    {
      "group": "Input format",
      "items": [
        {
          "name": "Input channels",
          "value": 3,
          "type": "int",
          "help": "Number of channels in incoming frames. Use 3 for RGB; set 1 only if your source is truly grayscale.",
          "param": "channels"
        }
      ]
    },
    {
      "group": "Output format",
      "items": [
        {
          "name": "Output channels",
          "value": 3,
          "type": "int",
          "help": "Number of channels to emit for the model (1 = grayscale, 3 = RGB). The DSP will convert as needed.",
          "param": "out_channels"
        }
      ]
    }
  ]
}